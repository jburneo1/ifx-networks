<mat-toolbar>Entities</mat-toolbar>

<router-outlet></router-outlet>

<div [hidden]="activatedRoute.children.length !== 0">

    <mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef mat-sort-header>ID</mat-header-cell>
            <mat-cell *matCellDef="let row">{{row.id}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="names">
            <mat-header-cell *matHeaderCellDef mat-sort-header>NAMES</mat-header-cell>
            <mat-cell *matCellDef="let row">{{row.name}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef mat-sort-header></mat-header-cell>
            <mat-cell *matCellDef="let row">
                <button mat-button color="primary" *ngIf="validationAdmin">
                    <mat-icon [routerLink]="['edition', row.id]">ballot</mat-icon>
                </button>
                <button mat-button *ngIf="validationAdmin">
                    <mat-icon color="accent" (click)="delete(row.id)">delete</mat-icon>
                </button>

            </mat-cell>
        </ng-container>



        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>

</div>

<button mat-fab color="accent" style="float: right; margin-right: 20px" *ngIf="validationAdmin" routerLink='/entities/new'>
    <mat-icon>create</mat-icon>
</button>